System.register([],(function(e){"use strict";return{execute:function(){e({C:n,P:J,a:q,g:i});class t{constructor(){this.resolve=e=>{this._resolve(e)};this.reject=e=>{this._reject(e)};this._promise=new Promise((e,t)=>{this._resolve=e;this._reject=t})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}}class r{constructor(e,t,r){this._name=e;this._property=t;this._consumer=r}get name(){return this._name}get consumer(){return this._consumer}get property(){return this._property}}const s="@runopencode:state:consume:requests";function n(e){return function r(n,i){let c=Reflect.getMetadata(s,n)||[];let u=new o(e,i);let h=`__${i}__`;c.push(u);Reflect.defineMetadata(s,c,n);delete n.constructor.prototype[i];Object.defineProperty(n.constructor.prototype,i,{configurable:true,enumerable:true,get:function(){if(!this[h]){Object.defineProperty(this,h,{value:new t,enumerable:false,writable:false})}return this[h]}})}}function i(e){let t=[];let n=Reflect.getMetadata(s,e);n.forEach(s=>{let n=new r(s.name,s.property,e);t.push(n)});return t}class o{constructor(e,t){this._name=e;this._property=t}get name(){return this._name}get property(){return this._property}}function c(e){return typeof e==="function"}let u=false;const h={Promise:undefined,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else if(u){console.log("RxJS: Back to a better error behavior. Thank you. <3")}u=e},get useDeprecatedSynchronousErrorHandling(){return u}};function l(e){setTimeout(()=>{throw e},0)}const a={closed:true,next(e){},error(e){if(h.useDeprecatedSynchronousErrorHandling){throw e}else{l(e)}},complete(){}};const b=(()=>Array.isArray||(e=>e&&typeof e.length==="number"))();function f(e){return e!==null&&typeof e==="object"}const p=(()=>{function e(e){Error.call(this);this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"";this.name="UnsubscriptionError";this.errors=e;return this}e.prototype=Object.create(Error.prototype);return e})();const d=p;class _{constructor(e){this.closed=false;this._parentOrParents=null;this._subscriptions=null;if(e){this._unsubscribe=e}}unsubscribe(){let e;if(this.closed){return}let{_parentOrParents:t,_unsubscribe:r,_subscriptions:s}=this;this.closed=true;this._parentOrParents=null;this._subscriptions=null;if(t instanceof _){t.remove(this)}else if(t!==null){for(let e=0;e<t.length;++e){const r=t[e];r.remove(this)}}if(c(r)){try{r.call(this)}catch(n){e=n instanceof d?y(n.errors):[n]}}if(b(s)){let t=-1;let r=s.length;while(++t<r){const r=s[t];if(f(r)){try{r.unsubscribe()}catch(n){e=e||[];if(n instanceof d){e=e.concat(y(n.errors))}else{e.push(n)}}}}}if(e){throw new d(e)}}add(e){let t=e;if(!e){return _.EMPTY}switch(typeof e){case"function":t=new _(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!=="function"){return t}else if(this.closed){t.unsubscribe();return t}else if(!(t instanceof _)){const e=t;t=new _;t._subscriptions=[e]}break;default:{throw new Error("unrecognized teardown "+e+" added to Subscription.")}}let{_parentOrParents:r}=t;if(r===null){t._parentOrParents=this}else if(r instanceof _){if(r===this){return t}t._parentOrParents=[r,this]}else if(r.indexOf(this)===-1){r.push(this)}else{return t}const s=this._subscriptions;if(s===null){this._subscriptions=[t]}else{s.push(t)}return t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);if(r!==-1){t.splice(r,1)}}}}_.EMPTY=function(e){e.closed=true;return e}(new _);function y(e){return e.reduce((e,t)=>e.concat(t instanceof d?t.errors:t),[])}const w=(()=>typeof Symbol==="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class E extends _{constructor(e,t,r){super();this.syncErrorValue=null;this.syncErrorThrown=false;this.syncErrorThrowable=false;this.isStopped=false;switch(arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if(typeof e==="object"){if(e instanceof E){this.syncErrorThrowable=e.syncErrorThrowable;this.destination=e;e.add(this)}else{this.syncErrorThrowable=true;this.destination=new g(this,e)}break}default:this.syncErrorThrowable=true;this.destination=new g(this,e,t,r);break}}[w](){return this}static create(e,t,r){const s=new E(e,t,r);s.syncErrorThrowable=false;return s}next(e){if(!this.isStopped){this._next(e)}}error(e){if(!this.isStopped){this.isStopped=true;this._error(e)}}complete(){if(!this.isStopped){this.isStopped=true;this._complete()}}unsubscribe(){if(this.closed){return}this.isStopped=true;super.unsubscribe()}_next(e){this.destination.next(e)}_error(e){this.destination.error(e);this.unsubscribe()}_complete(){this.destination.complete();this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;this._parentOrParents=null;this.unsubscribe();this.closed=false;this.isStopped=false;this._parentOrParents=e;return this}}class g extends E{constructor(e,t,r,s){super();this._parentSubscriber=e;let n;let i=this;if(c(t)){n=t}else if(t){n=t.next;r=t.error;s=t.complete;if(t!==a){i=Object.create(t);if(c(i.unsubscribe)){this.add(i.unsubscribe.bind(i))}i.unsubscribe=this.unsubscribe.bind(this)}}this._context=i;this._next=n;this._error=r;this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;if(!h.useDeprecatedSynchronousErrorHandling||!t.syncErrorThrowable){this.__tryOrUnsub(this._next,e)}else if(this.__tryOrSetError(t,this._next,e)){this.unsubscribe()}}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this;const{useDeprecatedSynchronousErrorHandling:r}=h;if(this._error){if(!r||!t.syncErrorThrowable){this.__tryOrUnsub(this._error,e);this.unsubscribe()}else{this.__tryOrSetError(t,this._error,e);this.unsubscribe()}}else if(!t.syncErrorThrowable){this.unsubscribe();if(r){throw e}l(e)}else{if(r){t.syncErrorValue=e;t.syncErrorThrown=true}else{l(e)}this.unsubscribe()}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);if(!h.useDeprecatedSynchronousErrorHandling||!e.syncErrorThrowable){this.__tryOrUnsub(t);this.unsubscribe()}else{this.__tryOrSetError(e,t);this.unsubscribe()}}else{this.unsubscribe()}}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){this.unsubscribe();if(h.useDeprecatedSynchronousErrorHandling){throw r}else{l(r)}}}__tryOrSetError(e,t,r){if(!h.useDeprecatedSynchronousErrorHandling){throw new Error("bad call")}try{t.call(this._context,r)}catch(s){if(h.useDeprecatedSynchronousErrorHandling){e.syncErrorValue=s;e.syncErrorThrown=true;return true}else{l(s);return true}}return false}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null;this._parentSubscriber=null;e.unsubscribe()}}function m(e){while(e){const{closed:t,destination:r,isStopped:s}=e;if(t||s){return false}else if(r&&r instanceof E){e=r}else{e=null}}return true}function S(e,t,r){if(e){if(e instanceof E){return e}if(e[w]){return e[w]()}}if(!e&&!t&&!r){return new E(a)}return new E(e,t,r)}const x=(()=>typeof Symbol==="function"&&Symbol.observable||"@@observable")();function j(){}function O(e){if(!e){return j}if(e.length===1){return e[0]}return function t(r){return e.reduce((e,t)=>t(e),r)}}class v{constructor(e){this._isScalar=false;if(e){this._subscribe=e}}lift(e){const t=new v;t.source=this;t.operator=e;return t}subscribe(e,t,r){const{operator:s}=this;const n=S(e,t,r);if(s){n.add(s.call(n,this.source))}else{n.add(this.source||h.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n))}if(h.useDeprecatedSynchronousErrorHandling){if(n.syncErrorThrowable){n.syncErrorThrowable=false;if(n.syncErrorThrown){throw n.syncErrorValue}}}return n}_trySubscribe(e){try{return this._subscribe(e)}catch(t){if(h.useDeprecatedSynchronousErrorHandling){e.syncErrorThrown=true;e.syncErrorValue=t}if(m(e)){e.error(t)}else{console.warn(t)}}}forEach(e,t){t=T(t);return new t((t,r)=>{let s;s=this.subscribe(t=>{try{e(t)}catch(n){r(n);if(s){s.unsubscribe()}}},r,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[x](){return this}pipe(...e){if(e.length===0){return this}return O(e)(this)}toPromise(e){e=T(e);return new e((e,t)=>{let r;this.subscribe(e=>r=e,e=>t(e),()=>e(r))})}}v.create=e=>new v(e);function T(e){if(!e){e=Promise}if(!e){throw new Error("no Promise impl found")}return e}const P=(()=>{function e(){Error.call(this);this.message="object unsubscribed";this.name="ObjectUnsubscribedError";return this}e.prototype=Object.create(Error.prototype);return e})();const D=P;class M extends _{constructor(e,t){super();this.subject=e;this.subscriber=t;this.closed=false}unsubscribe(){if(this.closed){return}this.closed=true;const e=this.subject;const t=e.observers;this.subject=null;if(!t||t.length===0||e.isStopped||e.closed){return}const r=t.indexOf(this.subscriber);if(r!==-1){t.splice(r,1)}}}class H extends E{constructor(e){super(e);this.destination=e}}class R extends v{constructor(){super();this.observers=[];this.closed=false;this.isStopped=false;this.hasError=false;this.thrownError=null}[w](){return new H(this)}lift(e){const t=new k(this,this);t.operator=e;return t}next(e){if(this.closed){throw new D}if(!this.isStopped){const{observers:t}=this;const r=t.length;const s=t.slice();for(let n=0;n<r;n++){s[n].next(e)}}}error(e){if(this.closed){throw new D}this.hasError=true;this.thrownError=e;this.isStopped=true;const{observers:t}=this;const r=t.length;const s=t.slice();for(let n=0;n<r;n++){s[n].error(e)}this.observers.length=0}complete(){if(this.closed){throw new D}this.isStopped=true;const{observers:e}=this;const t=e.length;const r=e.slice();for(let s=0;s<t;s++){r[s].complete()}this.observers.length=0}unsubscribe(){this.isStopped=true;this.closed=true;this.observers=null}_trySubscribe(e){if(this.closed){throw new D}else{return super._trySubscribe(e)}}_subscribe(e){if(this.closed){throw new D}else if(this.hasError){e.error(this.thrownError);return _.EMPTY}else if(this.isStopped){e.complete();return _.EMPTY}else{this.observers.push(e);return new M(this,e)}}asObservable(){const e=new v;e.source=this;return e}}e("S",R);R.create=(e,t)=>new k(e,t);class k extends R{constructor(e,t){super();this.destination=e;this.source=t}next(e){const{destination:t}=this;if(t&&t.next){t.next(e)}}error(e){const{destination:t}=this;if(t&&t.error){this.destination.error(e)}}complete(){const{destination:e}=this;if(e&&e.complete){this.destination.complete()}}_subscribe(e){const{source:t}=this;if(t){return this.source.subscribe(e)}else{return _.EMPTY}}}class A extends R{constructor(e){super();this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);if(t&&!t.closed){e.next(this._value)}return t}getValue(){if(this.hasError){throw this.thrownError}else if(this.closed){throw new D}else{return this._value}}next(e){super.next(this._value=e)}}function V(e,t){return function r(s){if(typeof e!=="function"){throw new TypeError("argument is not a function. Are you looking for `mapTo()`?")}return s.lift(new U(e,t))}}class U{constructor(e,t){this.project=e;this.thisArg=t}call(e,t){return t.subscribe(new $(e,this.project,this.thisArg))}}class $ extends E{constructor(e,t,r){super(e);this.project=t;this.count=0;this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){this.destination.error(r);return}this.destination.next(t)}}class Y{constructor(e=null){this._snapshot=e;this._subject=new A(e)}get observer(){return this._subject.asObservable()}select(e){return this._subject.pipe(V(e))}snapshot(){return this._snapshot}set(e){this._snapshot=e;this._subject.next(e)}patch(e){this._snapshot=Object.assign(Object.assign({},this._snapshot||{}),e);this._subject.next(this._snapshot)}error(e){this._subject.error(e)}subscribe(e){return this._subject.subscribe(e)}}const C="@runopencode:state:provide:registry";function J(e){return function t(r,s){e=Object.assign({defaults:null},e);let n=`__${s}__`;delete r.constructor.prototype[s];Object.defineProperty(r.constructor.prototype,s,{configurable:true,enumerable:true,get:function(){if(!this[n]){let t=e.defaults;if(e.defaults instanceof Function){t=t()}Object.defineProperty(this,n,{value:new Y(t),enumerable:false,writable:false})}return this[n]}});let i=Reflect.getMetadata(C,r)||new Map;i.set(e.name,s);Reflect.defineMetadata(C,i,r)}}function q(e){let t=Reflect.getMetadata(C,e);let r=new Map;t.forEach((function(t,s){r.set(s,e[t])}));return r}}}}));